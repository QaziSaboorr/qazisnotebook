{"ast":null,"code":"import _defineProperty from\"/Users/saboorali/Desktop/ok/qazisnotebook/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/saboorali/Desktop/ok/qazisnotebook/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/Users/saboorali/Desktop/ok/qazisnotebook/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/saboorali/Desktop/ok/qazisnotebook/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/saboorali/Desktop/ok/qazisnotebook/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(props){var navigate=useNavigate();var _useState=useState({email:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),credentials=_useState2[0],setCredentials=_useState2[1];var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var response,json;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return fetch(\"http://localhost:8000/api/auth/login\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({email:credentials.email,password:credentials.password})});case 3:response=_context.sent;_context.next=6;return response.json();case 6:json=_context.sent;console.log(json);if(json.success){//save the authtoken and redirect\nlocalStorage.setItem(\"token\",json.authtoken);props.showAlert(\"Logged in succesfully\",\"success\");navigate(\"/\");}else{props.showAlert(\"Invalid Credentials\",\"danger\");}case 9:case\"end\":return _context.stop();}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();var handleChange=function handleChange(e){setCredentials(_objectSpread(_objectSpread({},credentials),{},_defineProperty({},e.target.name,e.target.value)));//this uses dot operator to deform original note fields and combine them with new fields value with same name\n};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"my-3 text-center\",children:\"Log in to continue to INoteBook\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputEmail1\",className:\"form-label\",children:\"Email address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",id:\"email\",\"aria-describedby\":\"emailHelp\",name:\"email\",value:credentials.email,onChange:handleChange}),/*#__PURE__*/_jsx(\"div\",{id:\"emailHelp\",className:\"form-text\",children:\"We'll never share your email with anyone else.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputPassword1\",className:\"form-label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"password\",name:\"password\",value:credentials.password,onChange:handleChange})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Submit\"})]})]});};export default Login;","map":{"version":3,"names":["React","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","Login","props","navigate","_useState","email","password","_useState2","_slicedToArray","credentials","setCredentials","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","response","json","wrap","_callee$","_context","prev","next","preventDefault","fetch","method","headers","body","JSON","stringify","sent","console","log","success","localStorage","setItem","authtoken","showAlert","stop","_x","apply","arguments","handleChange","_objectSpread","_defineProperty","target","name","value","children","className","onSubmit","htmlFor","type","id","onChange"],"sources":["/Users/saboorali/Desktop/ok/qazisnotebook/frontend/src/components/Login.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\nconst Login = (props) => {\n  const navigate = useNavigate();\n  const [credentials, setCredentials] = useState({ email: \"\", password: \"\" });\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const response = await fetch(\"http://localhost:8000/api/auth/login\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        email: credentials.email,\n        password: credentials.password,\n      }),\n    });\n\n    const json = await response.json();\n    console.log(json);\n    if (json.success) {\n      //save the authtoken and redirect\n      localStorage.setItem(\"token\", json.authtoken);\n      props.showAlert(\"Logged in succesfully\", \"success\");\n      navigate(`/`);\n    } else {\n      props.showAlert(\"Invalid Credentials\", \"danger\");\n    }\n  };\n  let handleChange = (e) => {\n    setCredentials({ ...credentials, [e.target.name]: e.target.value });\n    //this uses dot operator to deform original note fields and combine them with new fields value with same name\n  };\n  return (\n    <div>\n      <h1 className=\"my-3 text-center\">Log in to continue to INoteBook</h1>\n      <form onSubmit={handleSubmit}>\n        <div className=\"mb-3\">\n          <label htmlFor=\"exampleInputEmail1\" className=\"form-label\">\n            Email address\n          </label>\n          <input\n            type=\"email\"\n            className=\"form-control\"\n            id=\"email\"\n            aria-describedby=\"emailHelp\"\n            name=\"email\"\n            value={credentials.email}\n            onChange={handleChange}\n          />\n          <div id=\"emailHelp\" className=\"form-text\">\n            We'll never share your email with anyone else.\n          </div>\n        </div>\n        <div className=\"mb-3\">\n          <label htmlFor=\"exampleInputPassword1\" className=\"form-label\">\n            Password\n          </label>\n          <input\n            type=\"password\"\n            className=\"form-control\"\n            id=\"password\"\n            name=\"password\"\n            value={credentials.password}\n            onChange={handleChange}\n          />\n        </div>\n\n        <button type=\"submit\" className=\"btn btn-primary\">\n          Submit\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default Login;\n"],"mappings":"yrBAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE/C,GAAM,CAAAC,KAAK,CAAG,QAAR,CAAAA,KAAKA,CAAIC,KAAK,CAAK,CACvB,GAAM,CAAAC,QAAQ,CAAGP,WAAW,CAAC,CAAC,CAC9B,IAAAQ,SAAA,CAAsCT,QAAQ,CAAC,CAAEU,KAAK,CAAE,EAAE,CAAEC,QAAQ,CAAE,EAAG,CAAC,CAAC,CAAAC,UAAA,CAAAC,cAAA,CAAAJ,SAAA,IAApEK,WAAW,CAAAF,UAAA,IAAEG,cAAc,CAAAH,UAAA,IAClC,GAAM,CAAAI,YAAY,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAOC,CAAC,MAAAC,QAAA,CAAAC,IAAA,QAAAL,mBAAA,GAAAM,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAC3BP,CAAC,CAACQ,cAAc,CAAC,CAAC,CAACH,QAAA,CAAAE,IAAA,SACI,CAAAE,KAAK,CAAC,sCAAsC,CAAE,CACnEC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACnB1B,KAAK,CAAEI,WAAW,CAACJ,KAAK,CACxBC,QAAQ,CAAEG,WAAW,CAACH,QACxB,CAAC,CACH,CAAC,CAAC,QATIY,QAAQ,CAAAI,QAAA,CAAAU,IAAA,CAAAV,QAAA,CAAAE,IAAA,SAWK,CAAAN,QAAQ,CAACC,IAAI,CAAC,CAAC,QAA5BA,IAAI,CAAAG,QAAA,CAAAU,IAAA,CACVC,OAAO,CAACC,GAAG,CAACf,IAAI,CAAC,CACjB,GAAIA,IAAI,CAACgB,OAAO,CAAE,CAChB;AACAC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAElB,IAAI,CAACmB,SAAS,CAAC,CAC7CpC,KAAK,CAACqC,SAAS,CAAC,uBAAuB,CAAE,SAAS,CAAC,CACnDpC,QAAQ,IAAI,CAAC,CACf,CAAC,IAAM,CACLD,KAAK,CAACqC,SAAS,CAAC,qBAAqB,CAAE,QAAQ,CAAC,CAClD,CAAC,wBAAAjB,QAAA,CAAAkB,IAAA,MAAAxB,OAAA,GACF,kBAvBK,CAAAL,YAAYA,CAAA8B,EAAA,SAAA7B,IAAA,CAAA8B,KAAA,MAAAC,SAAA,OAuBjB,CACD,GAAI,CAAAC,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAI3B,CAAC,CAAK,CACxBP,cAAc,CAAAmC,aAAA,CAAAA,aAAA,IAAMpC,WAAW,KAAAqC,eAAA,IAAG7B,CAAC,CAAC8B,MAAM,CAACC,IAAI,CAAG/B,CAAC,CAAC8B,MAAM,CAACE,KAAK,EAAE,CAAC,CACnE;AACF,CAAC,CACD,mBACEjD,KAAA,QAAAkD,QAAA,eACEpD,IAAA,OAAIqD,SAAS,CAAC,kBAAkB,CAAAD,QAAA,CAAC,iCAA+B,CAAI,CAAC,cACrElD,KAAA,SAAMoD,QAAQ,CAAEzC,YAAa,CAAAuC,QAAA,eAC3BlD,KAAA,QAAKmD,SAAS,CAAC,MAAM,CAAAD,QAAA,eACnBpD,IAAA,UAAOuD,OAAO,CAAC,oBAAoB,CAACF,SAAS,CAAC,YAAY,CAAAD,QAAA,CAAC,eAE3D,CAAO,CAAC,cACRpD,IAAA,UACEwD,IAAI,CAAC,OAAO,CACZH,SAAS,CAAC,cAAc,CACxBI,EAAE,CAAC,OAAO,CACV,mBAAiB,WAAW,CAC5BP,IAAI,CAAC,OAAO,CACZC,KAAK,CAAExC,WAAW,CAACJ,KAAM,CACzBmD,QAAQ,CAAEZ,YAAa,CACxB,CAAC,cACF9C,IAAA,QAAKyD,EAAE,CAAC,WAAW,CAACJ,SAAS,CAAC,WAAW,CAAAD,QAAA,CAAC,gDAE1C,CAAK,CAAC,EACH,CAAC,cACNlD,KAAA,QAAKmD,SAAS,CAAC,MAAM,CAAAD,QAAA,eACnBpD,IAAA,UAAOuD,OAAO,CAAC,uBAAuB,CAACF,SAAS,CAAC,YAAY,CAAAD,QAAA,CAAC,UAE9D,CAAO,CAAC,cACRpD,IAAA,UACEwD,IAAI,CAAC,UAAU,CACfH,SAAS,CAAC,cAAc,CACxBI,EAAE,CAAC,UAAU,CACbP,IAAI,CAAC,UAAU,CACfC,KAAK,CAAExC,WAAW,CAACH,QAAS,CAC5BkD,QAAQ,CAAEZ,YAAa,CACxB,CAAC,EACC,CAAC,cAEN9C,IAAA,WAAQwD,IAAI,CAAC,QAAQ,CAACH,SAAS,CAAC,iBAAiB,CAAAD,QAAA,CAAC,QAElD,CAAQ,CAAC,EACL,CAAC,EACJ,CAAC,CAEV,CAAC,CAED,cAAe,CAAAjD,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}