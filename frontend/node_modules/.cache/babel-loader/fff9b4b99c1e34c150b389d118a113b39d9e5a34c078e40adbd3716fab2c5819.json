{"ast":null,"code":"import _defineProperty from\"/Users/saboorali/Desktop/ok/qazisnotebook/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/saboorali/Desktop/ok/qazisnotebook/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/saboorali/Desktop/ok/qazisnotebook/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useEffect,useRef,useState}from\"react\";import noteContext from\"../context/notes/noteContext\";//going up one step\nimport Noteitem from\"./Noteitem\";import AddNote from\"./AddNote\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Notes(props){var context=useContext(noteContext);var notes=context.notes,GetAllNotes=context.GetAllNotes,editNote=context.editNote;var navigate=useNavigate();useEffect(function(){if(localStorage.getItem(\"token\")){GetAllNotes();}else{navigate(\"/Login\");}// eslint-disable-next-line\n},[]);var ref=useRef(null);var refClose=useRef(null);var updateNote=function updateNote(current){ref.current.click();setNote({id:current._id,etitle:current.title,edescription:current.description,etag:current.tag});};var _useState=useState({id:\"\",etitle:\"\",edescription:\"\",etag:\"default\"}),_useState2=_slicedToArray(_useState,2),note=_useState2[0],setNote=_useState2[1];var handleChange=function handleChange(e){setNote(_objectSpread(_objectSpread({},note),{},_defineProperty({},e.target.name,e.target.value)));//this uses dot operator to deform original note fields and combine them with new fields value with same name\n};var handleClick=function handleClick(){refClose.current.click();editNote(note.id,note.etitle,note.edescription,note.etag);props.showAlert(\"Note has been edited successfully\",\"primary\");};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(AddNote,{showAlert:props.showAlert}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-primary d-none\",\"data-bs-toggle\":\"modal\",\"data-bs-target\":\"#exampleModal\",ref:ref,children:\"Launch demo modal\"}),/*#__PURE__*/_jsx(\"div\",{className:\"modal fade\",id:\"exampleModal\",tabIndex:\"-1\",\"aria-labelledby\":\"exampleModalLabel\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"modal-title\",id:\"exampleModalLabel\",children:\"Edit Note\"}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"etitle\",className:\"form-label\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"etitle\",name:\"etitle\",onChange:handleChange,value:note.etitle}),/*#__PURE__*/_jsx(\"div\",{id:\"title\",className:\"form-text\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"edesc\",className:\"form-label\",children:\"Description\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"edescription\",name:\"edescription\",onChange:handleChange,value:note.edescription})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"etag\",className:\"form-label\",children:\"Tag\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"etag\",name:\"etag\",onChange:handleChange,value:note.etag})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",\"data-bs-dismiss\":\"modal\",\"aria-label\":\"Close\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:\"...\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary d-none\",\"data-bs-dismiss\":\"modal\",ref:refClose,children:\"Close\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-primary\",onClick:function onClick(){handleClick();},disabled:note.edescription.length<5||note.etitle.length<5,children:\"Update Note\"})]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row my-3\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Your Notes\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:notes.length===0&&\"No notes to display\"}),notes.map(function(notes){return/*#__PURE__*/_jsx(Noteitem,{note:notes,updateNote:updateNote,showAlert:props.showAlert},notes._id);})]})]});}","map":{"version":3,"names":["React","useContext","useEffect","useRef","useState","noteContext","Noteitem","AddNote","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Notes","props","context","notes","GetAllNotes","editNote","navigate","localStorage","getItem","ref","refClose","updateNote","current","click","setNote","id","_id","etitle","title","edescription","description","etag","tag","_useState","_useState2","_slicedToArray","note","handleChange","e","_objectSpread","_defineProperty","target","name","value","handleClick","showAlert","children","type","className","tabIndex","htmlFor","onChange","onClick","disabled","length","map"],"sources":["/Users/saboorali/Desktop/ok/qazisnotebook/frontend/src/components/Notes.js"],"sourcesContent":["import React, { useContext, useEffect, useRef, useState } from \"react\";\nimport noteContext from \"../context/notes/noteContext\"; //going up one step\nimport Noteitem from \"./Noteitem\";\nimport AddNote from \"./AddNote\";\nimport { useNavigate } from \"react-router-dom\";\nexport default function Notes(props) {\n  const context = useContext(noteContext);\n  const { notes, GetAllNotes, editNote } = context;\n  const navigate = useNavigate();\n  useEffect(() => {\n    if (localStorage.getItem(\"token\")) {\n      GetAllNotes();\n    } else {\n      navigate(\"/Login\");\n    }\n    // eslint-disable-next-line\n  }, []);\n  const ref = useRef(null);\n  const refClose = useRef(null);\n  const updateNote = (current) => {\n    ref.current.click();\n    setNote({\n      id: current._id,\n      etitle: current.title,\n      edescription: current.description,\n      etag: current.tag,\n    });\n  };\n  const [note, setNote] = useState({\n    id: \"\",\n    etitle: \"\",\n    edescription: \"\",\n    etag: \"default\",\n  });\n\n  let handleChange = (e) => {\n    setNote({ ...note, [e.target.name]: e.target.value }); //this uses dot operator to deform original note fields and combine them with new fields value with same name\n  };\n  let handleClick = () => {\n    refClose.current.click();\n    editNote(note.id, note.etitle, note.edescription, note.etag);\n    props.showAlert(\"Note has been edited successfully\", \"primary\");\n  };\n\n  return (\n    <>\n      <AddNote showAlert={props.showAlert} />\n      <button\n        type=\"button\"\n        className=\"btn btn-primary d-none\"\n        data-bs-toggle=\"modal\"\n        data-bs-target=\"#exampleModal\"\n        ref={ref}\n      >\n        Launch demo modal\n      </button>\n\n      <div\n        className=\"modal fade\"\n        id=\"exampleModal\"\n        tabIndex=\"-1\"\n        aria-labelledby=\"exampleModalLabel\"\n        aria-hidden=\"true\"\n      >\n        <div className=\"modal-dialog\">\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <h5 className=\"modal-title\" id=\"exampleModalLabel\">\n                Edit Note\n              </h5>\n\n              <form>\n                <div className=\"mb-3\">\n                  <label htmlFor=\"etitle\" className=\"form-label\">\n                    Title\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    id=\"etitle\"\n                    name=\"etitle\"\n                    onChange={handleChange}\n                    value={note.etitle}\n                  />\n                  <div id=\"title\" className=\"form-text\"></div>\n                </div>\n                <div className=\"mb-3\">\n                  <label htmlFor=\"edesc\" className=\"form-label\">\n                    Description\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    id=\"edescription\"\n                    name=\"edescription\"\n                    onChange={handleChange}\n                    value={note.edescription}\n                  />\n                </div>\n\n                <div className=\"mb-3\">\n                  <label htmlFor=\"etag\" className=\"form-label\">\n                    Tag\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    id=\"etag\"\n                    name=\"etag\"\n                    onChange={handleChange}\n                    value={note.etag}\n                  />\n                </div>\n              </form>\n              <button\n                type=\"button\"\n                className=\"btn-close\"\n                data-bs-dismiss=\"modal\"\n                aria-label=\"Close\"\n              ></button>\n            </div>\n            <div className=\"modal-body\">...</div>\n            <div className=\"modal-footer\">\n              <button\n                type=\"button\"\n                className=\"btn btn-secondary d-none\"\n                data-bs-dismiss=\"modal\"\n                ref={refClose}\n              >\n                Close\n              </button>\n              <button\n                type=\"button\"\n                className=\"btn btn-primary\"\n                onClick={() => {\n                  handleClick();\n                }}\n                disabled={\n                  note.edescription.length < 5 || note.etitle.length < 5\n                }\n              >\n                Update Note\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"row my-3\">\n        <h2>Your Notes</h2>\n\n        <div className=\"container\">\n          {notes.length === 0 && \"No notes to display\"}\n        </div>\n        {notes.map((notes) => {\n          return (\n            <Noteitem\n              key={notes._id}\n              note={notes}\n              updateNote={updateNote}\n              showAlert={props.showAlert}\n            />\n          );\n        })}\n      </div>\n    </>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}